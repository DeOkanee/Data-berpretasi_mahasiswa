<!DOCTYPE html>
<html>
<head>
    <title>File Viewer</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        #viewer-container {
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
        #pdf-viewer {
            width: 100%;
            height: 100%;
            border: none;
            position: absolute;
            top: 0;
            left: 0;
        }
        #image-viewer {
            width: 100%;
            height: 100%;
            object-fit: contain;
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <div id="viewer-container"></div>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const fileUrl = urlParams.get('file');
        const fileType = urlParams.get('type');
        const container = document.getElementById('viewer-container');

        console.log("File URL:", fileUrl);
        console.log("File Type:", fileType);

        if (fileUrl) {
            if (fileType === 'pdf') {
                // Untuk file PDF
                const iframe = document.createElement('iframe');
                iframe.id = 'pdf-viewer';
                iframe.src = `https://docs.google.com/viewer?url=${encodeURIComponent(fileUrl)}&embedded=true`;
                // Tambahkan parameter untuk tampilan penuh
                iframe.setAttribute('allowfullscreen', 'true');
                iframe.setAttribute('mozallowfullscreen', 'true');
                iframe.setAttribute('webkitallowfullscreen', 'true');
                container.appendChild(iframe);
            } else if (fileType === 'image') {
                // Untuk file gambar
                const img = document.createElement('img');
                img.id = 'image-viewer';
                img.src = fileUrl;
                img.alt = 'File Preview';
                container.appendChild(img);
            } else {
                container.innerHTML = '<p>Format file tidak didukung</p>';
            }
        } else {
            container.innerHTML = '<p>Tidak ada file yang dipilih</p>';
        }
    </script>
</body>
</html>